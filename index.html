<html>
  <head>
    <meta charset="UTF-8">
    <meta name="og:site_name"   content="LiteTools">
    <meta name="og:title"       content="Index">
    <meta name="og:description" content="">
    <script>      
       let style = async () => {
        let se = document.createElement('style'), esc = (s) => s.split('').flatMap(c => !/[\w-]/.test(c) ? '\\' + c : c).join('');
        
        function styleElement(elements) {
          elements.forEach(e => {
            e.className.split(/\s+/g).filter(cn => cn).forEach(cn => {
              let _ = cn.split('|'),
                  rl = (__ => {
                    let x = { ce: '', pe: '' };
                    __.split(/(?<=\^|\:)/).forEach(___ => {
                      switch(___.charAt(___.length - 1)) {
                        case '^': x.ce = ' ' + ___.slice(0, -1); break;
                        case ':': x.pe = ':' + ___.slice(0, -1); break;
                      }
                    });
                    return x;
                  })(_[_.length - 2] ?? ''),
                  asn = _[_.length - 1].split(/\:/);
              
              se.innerHTML += `.${esc(cn)}${rl.ce}${rl.pe}{${asn[0]}:${asn[1]}}`;
            });
          });
        }
        
        styleElement([document.body]);
        styleElement(document.body.querySelectorAll('*'));
        
        document.head.append(se);
      }
    </script>
  </head>
  
  <body onload="style()">
    <p class="color:red">If the script is functional, this should be red</p>
  </body>
</html>
